apiVersion: v3
kind: api
metadata:
    name: d5973684-73f7-4ab5-9cad-e8b4befc76cb
    namespace: default
    description: A succinct API for managing customers, user, and team settings. It supports various operations including user registration, login, and customer retrieval.
    displayName: Customers Management
    owner: customer-management
    id: d5973684-73f7-4ab5-9cad-e8b4befc76cb
    managed: {}
spec:
    type: openapi
    interface:
        definition:
            info:
                description: A succinct API for managing customers, user, and team settings. It supports various operations including user registration, login, and customer retrieval.
                title: Customers Management
                version: 1.0.0
            openapi: 3.0.3
            paths:
                /admin/delete_team:
                    put:
                        operationId: Delete Team
                        requestBody:
                            content:
                                application/json:
                                    schema:
                                        properties:
                                            reason:
                                                description: Reason for deleting the team
                                                type: string
                                            teamId:
                                                type: string
                                        type: object
                            required: true
                        responses:
                            "200":
                                content:
                                    application/json:
                                        schema:
                                            properties:
                                                message:
                                                    type: string
                                            type: object
                                description: Team deleted successfully
                        tags:
                            - admin_required
                /admin/delete_user:
                    put:
                        operationId: Delete User
                        requestBody:
                            content:
                                application/json:
                                    schema:
                                        properties:
                                            reason:
                                                description: Reason for deleting the user
                                                type: string
                                            userId:
                                                type: string
                                        type: object
                            required: true
                        responses:
                            "200":
                                content:
                                    application/json:
                                        schema:
                                            properties:
                                                message:
                                                    type: string
                                            type: object
                                description: User deleted successfully
                        tags:
                            - admin_required
                /admin/disable_team:
                    post:
                        operationId: Disable Team
                        requestBody:
                            content:
                                application/json:
                                    schema:
                                        properties:
                                            reason:
                                                description: Reason for disabling the team
                                                type: string
                                            teamId:
                                                type: string
                                        type: object
                            required: true
                        responses:
                            "200":
                                content:
                                    application/json:
                                        schema:
                                            properties:
                                                message:
                                                    type: string
                                            type: object
                                description: Team disabled successfully
                        tags:
                            - admin_required
                /admin/disable_user:
                    post:
                        operationId: Disable User
                        requestBody:
                            content:
                                application/json:
                                    schema:
                                        properties:
                                            reason:
                                                description: Reason for disabling the user
                                                type: string
                                            userId:
                                                type: string
                                        type: object
                            required: true
                        responses:
                            "200":
                                content:
                                    application/json:
                                        schema:
                                            properties:
                                                message:
                                                    type: string
                                            type: object
                                description: User disabled successfully
                        tags:
                            - admin_required
                /admin/rename_team:
                    put:
                        operationId: Rename Team
                        requestBody:
                            content:
                                application/json:
                                    schema:
                                        properties:
                                            newName:
                                                type: string
                                            reason:
                                                description: Reason for renaming the team
                                                type: string
                                            teamId:
                                                type: string
                                        type: object
                            required: true
                        responses:
                            "200":
                                content:
                                    application/json:
                                        schema:
                                            properties:
                                                message:
                                                    type: string
                                            type: object
                                description: Team renamed successfully
                        tags:
                            - admin_required
                /admin/rename_user:
                    put:
                        operationId: Rename User
                        requestBody:
                            content:
                                application/json:
                                    schema:
                                        properties:
                                            newName:
                                                type: string
                                            reason:
                                                description: Reason for renaming the user
                                                type: string
                                            userId:
                                                type: string
                                        type: object
                            required: true
                        responses:
                            "200":
                                content:
                                    application/json:
                                        schema:
                                            properties:
                                                message:
                                                    type: string
                                            type: object
                                description: User renamed successfully
                        tags:
                            - admin_required
                /customers:
                    get:
                        operationId: Get Customers
                        parameters:
                            - in: query
                              name: page
                              required: false
                              schema:
                                default: 1
                                type: integer
                            - in: query
                              name: limit
                              required: false
                              schema:
                                default: 10
                                type: integer
                            - in: query
                              name: sortBy
                              required: false
                              schema:
                                enum:
                                    - name
                                    - email
                                    - created_at
                                type: string
                            - in: query
                              name: filter
                              required: false
                              schema:
                                description: Filter results based on certain criteria
                                type: string
                        responses:
                            "200":
                                content:
                                    application/json:
                                        schema:
                                            properties:
                                                customers:
                                                    items:
                                                        properties:
                                                            createdAt:
                                                                format: date-time
                                                                type: string
                                                            email:
                                                                type: string
                                                            id:
                                                                type: string
                                                            name:
                                                                type: string
                                                            status:
                                                                enum:
                                                                    - active
                                                                    - disabled
                                                                type: string
                                                        type: object
                                                    type: array
                                            type: object
                                description: A list of customers
                        tags:
                            - PII
                    post:
                        operationId: Create Customer
                        requestBody:
                            content:
                                application/json:
                                    schema:
                                        properties:
                                            address:
                                                properties:
                                                    city:
                                                        type: string
                                                    state:
                                                        type: string
                                                    street:
                                                        type: string
                                                    zip:
                                                        type: string
                                                type: object
                                            email:
                                                type: string
                                            name:
                                                type: string
                                            password:
                                                type: string
                                            phone:
                                                description: Optional phone number of the customer
                                                type: string
                                        type: object
                            required: true
                        responses:
                            "201":
                                content:
                                    application/json:
                                        schema:
                                            properties:
                                                id:
                                                    type: string
                                                message:
                                                    type: string
                                            type: object
                                description: Customer created successfully
                        tags: []
                /customers/{id}:
                    get:
                        operationId: Get Customer by ID
                        parameters:
                            - in: path
                              name: id
                              required: true
                              schema:
                                type: string
                        responses:
                            "200":
                                content:
                                    application/json:
                                        schema:
                                            properties:
                                                address:
                                                    properties:
                                                        city:
                                                            type: string
                                                        state:
                                                            type: string
                                                        street:
                                                            type: string
                                                        zip:
                                                            type: string
                                                    type: object
                                                createdAt:
                                                    format: date-time
                                                    type: string
                                                email:
                                                    type: string
                                                id:
                                                    type: string
                                                name:
                                                    type: string
                                                phone:
                                                    type: string
                                                status:
                                                    enum:
                                                        - active
                                                        - disabled
                                                    type: string
                                            type: object
                                description: Customer details retrieved successfully
                        tags:
                            - customer_mgmt_team
                            - PII
                    put:
                        operationId: Update Customer
                        parameters:
                            - in: path
                              name: id
                              required: true
                              schema:
                                type: string
                        requestBody:
                            content:
                                application/json:
                                    schema:
                                        properties:
                                            address:
                                                properties:
                                                    city:
                                                        type: string
                                                    state:
                                                        type: string
                                                    street:
                                                        type: string
                                                    zip:
                                                        type: string
                                                type: object
                                            email:
                                                type: string
                                            name:
                                                type: string
                                            phone:
                                                type: string
                                            status:
                                                enum:
                                                    - active
                                                    - disabled
                                                type: string
                                        type: object
                            required: true
                        responses:
                            "200":
                                content:
                                    application/json:
                                        schema:
                                            properties:
                                                message:
                                                    type: string
                                            type: object
                                description: Customer updated successfully
                        tags: []
                /login:
                    post:
                        operationId: Login
                        requestBody:
                            content:
                                application/json:
                                    schema:
                                        properties:
                                            email:
                                                type: string
                                            password:
                                                type: string
                                            rememberMe:
                                                description: Flag to remember user login
                                                type: boolean
                                        type: object
                            required: true
                        responses:
                            "200":
                                content:
                                    application/json:
                                        schema:
                                            properties:
                                                message:
                                                    type: string
                                                token:
                                                    type: string
                                            type: object
                                description: Login successful
                        tags:
                            - PII
                /recommendation:
                    get:
                        operationId: Get Recommendation
                        parameters:
                            - in: query
                              name: customerId
                              required: false
                              schema:
                                type: string
                            - in: query
                              name: category
                              required: false
                              schema:
                                description: Filter recommendations by category
                                type: string
                            - in: query
                              name: limit
                              required: false
                              schema:
                                default: 5
                                type: integer
                        responses:
                            "200":
                                content:
                                    application/json:
                                        schema:
                                            properties:
                                                recommendations:
                                                    items:
                                                        type: string
                                                    type: array
                                            type: object
                                description: Recommendations retrieved successfully
                        tags: []
                /register:
                    get:
                        operationId: Register
                        responses:
                            "200":
                                content:
                                    application/json:
                                        schema:
                                            properties:
                                                message:
                                                    type: string
                                            type: object
                                description: Registration page loaded
                        tags:
                            - latency_sensitive
                            - PII
                    post:
                        operationId: Register
                        requestBody:
                            content:
                                application/json:
                                    schema:
                                        properties:
                                            email:
                                                type: string
                                            name:
                                                type: string
                                            password:
                                                type: string
                                            phone:
                                                description: Optional phone number for contact
                                                type: string
                                            termsAccepted:
                                                description: Indicates if the user accepted terms and conditions
                                                type: boolean
                                        type: object
                            required: true
                        responses:
                            "201":
                                content:
                                    application/json:
                                        schema:
                                            properties:
                                                message:
                                                    type: string
                                            type: object
                                description: User registered successfully
                        tags:
                            - PII
            x-datadog:
                teamHandle: customer-management
